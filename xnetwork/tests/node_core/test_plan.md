# Node Core Test Plan (PRIORITY 1)

## Жизненный цикл ноды
- [ ] **test_node_creation** - Проверка создания ноды с корректным Peer ID и конфигурацией
- [ ] **test_node_startup** - Проверка успешного запуска ноды и инициализации компонентов
- [ ] **test_node_shutdown** - Проверка корректного завершения работы и очистки ресурсов
- [ ] **test_node_restart** - Проверка возможности перезапуска ноды без утечек памяти

## Сетевое состояние и диагностика
- [ ] **test_network_state_initial** - Проверка начального состояния сети (0 соединений)
- [ ] **test_network_state_after_listen** - Проверка состояния после запуска слушателя
- [ ] **test_network_state_consistency** - Проверка согласованности сетевых метрик
- [ ] **test_uptime_tracking** - Проверка корректного отслеживания времени работы

## Прослушивание портов
- [ ] **test_listen_single_port** - Проверка прослушивания одного порта
- [ ] **test_listen_address_events** - Проверка событий прослушивания адресов
- [ ] **test_listen_port_conflict** - Проверка обработки конфликтов портов

## Базовые соединения
- [ ] **test_connection_establishment** - Проверка установления соединения между двумя нодами
- [ ] **test_connection_timeout_success** - Проверка успешного подключения с таймаутом
- [ ] **test_connection_timeout_failure** - Проверка таймаута при недоступном пире
- [ ] **test_connection_events** - Проверка событий открытия/закрытия соединений

## Управление соединениями
- [ ] **test_disconnect_peer** - Проверка отключения от конкретного пира
- [ ] **test_disconnect_all** - Проверка отключения всех соединений
- [ ] **test_connection_recovery** - Проверка восстановления соединения после разрыва

## Ресурсы и память
- [ ] **test_memory_cleanup** - Проверка очистки памяти после отключения
- [ ] **test_resource_leaks** - Проверка отсутствия утечек ресурсов
- [ ] **test_cleanup_on_shutdown** - Проверка полной очистки при завершении

## Обработка ошибок
- [ ] **test_invalid_config_handling** - Проверка обработки невалидных конфигураций
- [ ] **test_connection_failure_handling** - Проверка обработки ошибок подключения
- [ ] **test_listen_failure_handling** - Проверка обработки ошибок прослушивания

## Интеграционные тесты
- [ ] **test_multiple_nodes_network** - Проверка работы сети из нескольких нод
- [ ] **test_concurrent_operations** - Проверка конкурентных операций
- [ ] **test_long_running_stability** - Проверка стабильности при длительной работе

## Критические проверки
- [ ] **test_critical_functionality** - Проверка критически важного функционала
- [ ] **test_edge_cases** - Проверка граничных случаев и edge cases
- [ ] **test_fault_tolerance** - Проверка отказоустойчивости
