# Руководство по разработке NetCom

Этот файл содержит правила и рекомендации по разработке для проекта NetCom - P2P сети на Rust с Python биндингами.

## Communication style
- Использовать русский язык для общения, когда пользователь начинает на русском
- Быть прямым и техническим в ответах, избегая излишней разговорности
- Предоставлять четкие объяснения технических решений и реализаций
- задавать уточняющие вопросы при планировании, придерживаться принципа keep it simple keep it done

## Development workflow
- Всегда писать тесты по одному и сразу запускать их для проверки
- Никогда не использовать заглушки или моки в тестах - только реальные компоненты и функциональность
- Никогда не генерировать HTML через tarpaulin - использовать lcov для отчетов о покрытии кода
- **Никогда не удалять функционал из кода, даже если он не покрыт тестами, без явного указания пользователя**

## Coding best practices
- Писать идиоматический Rust код, следуя стандартам Rust 2024 edition
- Использовать async/await паттерны с tokio для всех сетевых операций
- Реализовывать комплексную обработку ошибок для всех возможных сценариев сбоев
- Следовать модульной архитектуре: protocols/ для базовых протоколов, xnetwork/ для высокоуровневого сетевого кода, pyxnetwork/ для Python биндингов

## Testing strategy
- Писать интеграционные тесты, использующие реальные сетевые компоненты
- Тестировать двунаправленную потоковую передачу данных с реальными объектами XStream
- Включать тестирование граничных случаев для сетевых таймаутов и условий ошибок
- Организовывать тесты в выделенных модулях под директорией src/tests/
- Использовать описательные имена тестов по шаблону: test_functionality_scenario
- Все тесты должны проверять реальную функциональность кода, а не симулировать ее
- При написании кода сразу писать рабочий код без заглушек и симуляций, если не указано иное

## Documentation standards
- Документировать все публичные API с четкими примерами
- Включать русские комментарии, когда это уместно для контекста пользователя
- Поддерживать комплексный контекст проекта для помощи ai ассистента в ai_help/project_context.md
